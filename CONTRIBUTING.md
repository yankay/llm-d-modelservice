# Contributing to `llm-d-modelservice`

Thank you for your interest in contributing to llm-d-modelservice. This document provides guidelines and instructions for contributing to this project.

To ensure a clear direction and cohesive vision for the project, the project leads have the final decision on all contributions. However, these guidelines outline how you can contribute effectively to llm-d-modelservice.

## How You Can Contribute

There are several ways you can contribute to llm-d-modelservice:

* **Reporting Issues:** Help us identify and fix bugs by reporting them clearly and concisely.
* **Suggesting Features:** Share your ideas for new features or improvements.
* **Improving Documentation:** Help make the project more accessible by enhancing the documentation.
* **Submitting Code Contributions (with consideration):** While the project leads maintain final say, code contributions that align with the project's vision are always welcome.

## Code of Conduct

This project adheres to the llm-d [Code of Conduct](https://github.com/llm-d/llm-d/blob/dev/CODE_OF_CONDUCT.md). By participating, you are expected to uphold this code.

## Local Development Setup

We welcome contributions to the llm-d-modelservice chart! If you have a bug fix, feature request, or improvement, please submit a pull request (PR) to the repository.

Before submitting a pull request, please ensure that you have the following dependencies installed and set up:

- [Helm](https://helm.sh/)
<!-- TODO after the pre-commit supported 
- [Helm docs](https://github.com/norwoodj/helm-docs) 
- [pre-commit](https://pre-commit.com/) -->

Then run:

```bash
helm repo add bitnami https://charts.bitnami.com/bitnami
helm dependency update charts/llm-d-modelservice/
helm dependency build charts/llm-d-modelservice/

make verify
```

To test your local changes, you can preview the Kubernetes manifests that are generated by using Helm's dry run capability. For example:

```bash
helm template cpu-sim charts/llm-d-modelservice -f examples/values-cpu.yaml
```

Make sure that the repo you're templating against is your local chart (`charts/llm-d-modelservice`) and not an upstream chart (`llm-d-modelservice/llm-d-modelservice`).

## Submitting a Pull Request

For every Pull Request submitted, ensure the following steps have been done:

1. [Sign your commits](https://docs.github.com/en/authentication/managing-commit-signature-verification/signing-commits)
2. [Sign-off your commits](https://git-scm.com/docs/git-commit#Documentation/git-commit.txt-code--signoffcode)
3. Ensure that the `make lint`, `make verify` command runs successfully to validate your changes
4. Update the version number in the [`charts/llm-d-modelservice/Chart.yaml`](charts/llm-d-modelservice/Chart.yaml) file using
   [semantic versioning](https://semver.org/). Follow the `X.Y.Z` format so the nature of the changes is reflected in the
   chart.
   - `X` (major) is incremented for breaking changes,
   - `Y` (minor) is incremented when new features are added without breaking existing functionality,
   - `Z` (patch) is incremented for bug fixes, minor improvements, or non-breaking changes.
<!-- TODO after the make verify for Chart Testing supported 5. Lint tests has been run for the Chart using the [Chart Testing](https://github.com/helm/chart-testing) tool and the `ct lint` command. -->
<!-- TODO after the pre-commit supported 6. Make sure that [pre-commit](https://pre-commit.com/) hook has been run to generate/update the `README.md` documentation. To preview the content, use `helm-docs --dry-run`.  -->

## FAQ and Troubleshooting

#### PR check `make verify` is failing

If `make verify` fails, review the error messages for details. If the failure is related to files under the `examples` directory being out of sync, you can run `make generate` to automatically update the generated code. After running `make generate`, re-run `make verify` to confirm the issue is resolved.

<!-- TODO after the pre-commit supported
#### PR check `Pre-commit / Pre-commit (pull_request)` is failing

Please check the job logs for more information. This usually means you forgot to run `pre-commit run -a` before submitting your PR. Refer to the setup steps above. To avoid this in the future, ensure you have run `pre-commit install` to set up the pre-commit hooks.
-->
